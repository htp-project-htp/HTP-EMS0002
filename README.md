# HTP\_EMS0002

**الإصدار**: 2.0.0

**المطور**: HTP 

---

## نظرة عامة

`HTP_EMS0002` هي مكتبة متوافقة مع Arduino تم تطويرها من أجل **التحكم الآمن في وحدة تحفيز العضلات الكهربائية**. توفر المكتبة آلية تحفيز كهربائي محكمة يمكن التحكم بها من خلال التردد، ودورة التشغيل، وفترات التشغيل/الإيقاف.

> ⚠️ **تحذير:** هذه المكتبة مخصصة للاستخدام من قبل مطورين لديهم دراية كافية. الإعدادات غير الصحيحة قد تؤدي إلى سلوك غير آمن أو مؤذٍ. استخدم الإعدادات الموصى بها فقط ما لم تكن على دراية تامة بالنتائج.

---

## الميزات

* ضبط **تردد التحفيز** حتى 50 هرتز
* ضبط **دورة التشغيل** من 0% إلى 100% 
* دعم **مؤقتات التشغيل/الإيقاف** (بحد أقصى 2000 مللي ثانية تشغيل و 5000 مللي ثانية إيقاف)
* آلية تشغيل/إيقاف آمنة
* دالة `update()` تُستدعى داخل `loop()` لضمان العمل المستمر

---

## البدء بالاستخدام

### التثبيت

1. قم بتنزيل ملفات المكتبة.
2. ضع مجلد المكتبة داخل مجلد `libraries` الخاص بـ Arduino.
3. أدرج المكتبة في مشروعك:

```cpp
#include <HTP_EMS0002.h>
```

### مثال بسيط

```cpp
#include <HTP_EMS0002.h>

HTP_EMS0002 stim(3);  // التحفيز عبر المنفذ 3

void setup() {
    stim.begin();
    stim.setFrequency(40);           // تعيين التردد إلى 40 هرتز
    stim.setDutyCycle(60);           // تعيين دورة التشغيل إلى 60%
    stim.setOnOffTimers(1500, 3000); // 1.5 ثانية تشغيل، 3 ثواني إيقاف
    stim.start();                    // بدء التحفيز
}

void loop() {
    stim.update();                   // تحديث الحالة في كل دورة
}
```

---

## الدوال العامة

| الدالة                                      | الوصف                                            |
| ------------------------------------------- | ------------------------------------------------ |
| `begin()`                                   | تهيئة المنفذ وإعداده للإخراج                     |
| `setFrequency(uint16_t hz)`                 | تعيين تردد التحفيز (بين 1 إلى 50 هرتز)           |
| `setDutyCycle(uint8_t percent)`             | تعيين دورة التشغيل (0–100%)، يتم تحويلها داخلياً |
| `setOnOffTimers(unsigned long onMs, offMs)` | ضبط فترات التشغيل/الإيقاف بالمللي ثانية          |
| `start()`                                   | بدء عملية التحفيز                                |
| `stop()`                                    | إيقاف عملية التحفيز                              |
| `update()`                                  | يجب استدعاؤها داخل `loop()` لإدارة التحفيز       |

---

## ملاحظات السلامة

* لا تقم بتعديل تردد التشغيل أو دورة التشغيل خارج الحدود الموصى بها.
* دورة التشغيل العالية قد تسبب تحفيزاً مفرطاً.
* لا تستخدم المكتبة لتحفيز فعلي على البشر إلا تحت إشراف مختص.

> ⚠️ جميع التعديلات تقع على مسؤوليتك الشخصية.

---

## الرخصة

هذا المشروع مفتوح المصدر ومتاح ضمن رخصة MIT.

---

## الدعم

للاستفسارات أو الدعم الفني، يرجى التواصل مع فريق HTP عبر:
**البريد الإلكتروني:** [info@htp-tech.com](mailto:info@htp-tech.com)
أو من خلال صفحة HTP على الفيسبوك.
