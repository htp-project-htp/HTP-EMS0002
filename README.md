# HTP\_EMS0002

**الإصدار**: 0002

**المطور**: HTP 

---

## نظرة عامة

 هذه مكتبة متوافقة مع اردوينو تم تطويرها من أجل **التحكم الآمن في وحدة تحفيز الكهربائية للعضلات **. توفر المكتبة آلية تحفيز كهربائي محكمة يمكن التحكم بها من خلال التردد، ودورة التشغيل، وفترات التشغيل/الإيقاف.

> ⚠️ **تحذير:** هذه المكتبة مخصصة للاستخدام من قبل مطورين لديهم دراية كافية. الإعدادات غير الصحيحة قد تؤدي إلى سلوك غير آمن أو مؤذٍ. استخدم الإعدادات الموصى بها فقط ما لم تكن على دراية تامة بالنتائج.

---

## الميزات

* التحكم بالتردد 
* التحكم بالشدة
* التحكم بالوقت للتشغيل والايقاف
* التحكم ايضا بوقت الجلسة العلاجية
* دائرة تحفيز صغيرة الحجم
* استهلاك طاقة منخفض


---

## البدء بالاستخدام
### التثبيت

1. حمّل ملف المكتبة المضغوط بصيغة `.zip`.
2. افتح برنامج Arduino IDE.
3. من القائمة العلوية، اختر **Sketch** ثم **Include Library** ثم **Add .ZIP Library...**
4. اختر ملف `.zip` الخاص بالمكتبة، وسيتم إضافتها تلقائيًا إلى Arduino IDE.
5. بعد التثبيت، يمكنك استخدام المكتبة عبر تضمينها في الكود:



```cpp
#include <HTP_EMS0002.h>
```

### مثال بسيط

```cpp
#include <HTP_EMS0002.h>

HTP_EMS0002 stim(3);  // التحفيز عبر المنفذ 3

void setup() {
    stim.begin();
    stim.setFrequency(40);           // تعيين التردد إلى 40 هرتز
    stim.setDutyCycle(60);           // تعيين دورة التشغيل إلى 60%
    stim.setOnOffTimers(1500, 3000); // 1.5 ثانية تشغيل، 3 ثواني إيقاف
    stim.start();                    // بدء التحفيز
}

void loop() {
    stim.update();                   // تحديث الحالة في كل دورة
}
```

---

## الدوال العامة

| الدالة                                      | الوصف                                            |
| ------------------------------------------- | ------------------------------------------------ |
| `begin()`                                   | تهيئة المنفذ وإعداده للإخراج                     |
| `setFrequency(uint16_t hz)`                 | تعيين تردد التحفيز (بين 1 إلى 50 هرتز)           |
| `setDutyCycle(uint8_t percent)`             | تعيين دورة التشغيل (0–100%)، يتم تحويلها داخلياً |
| `setOnOffTimers(unsigned long onMs, offMs)` | ضبط فترات التشغيل/الإيقاف بالمللي ثانية          |
| `start()`                                   | بدء عملية التحفيز                                |
| `stop()`                                    | إيقاف عملية التحفيز                              |
| `update()`                                  | يجب استدعاؤها داخل `loop()` لإدارة التحفيز       |

---

## ملاحظات السلامة

* لا تقم بتعديل تردد التشغيل أو دورة التشغيل خارج الحدود الموصى بها.
* دورة التشغيل العالية قد تسبب تحفيزاً مفرطاً.


> ⚠️ جميع التعديلات تقع على مسؤوليتك الشخصية.

---

## الرخصة

هذا المشروع مفتوح المصدر ومتاح ضمن رخصة MIT.

---

## الدعم

للاستفسارات أو الدعم الفني، يرجى التواصل مع فريق HTP عبر:  [انستغرام](https://www.instagram.com/htp_projects/)
